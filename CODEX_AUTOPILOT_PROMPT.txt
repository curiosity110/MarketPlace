You are CODEX AUTOPILOT building a production-ready Macedonia-only marketplace.

STACK
- Next.js App Router + TypeScript
- Tailwind
- Prisma + PostgreSQL
- Supabase Auth (magic link)
- Supabase Storage
- Stripe Checkout (Phase 2)
- Zod validation
- RBAC roles: USER, ADMIN

HARD RULES
- TEXT FILES ONLY in git
- No binaries committed
- No secrets in code
- .env.example must exist
- Idempotent Stripe webhook (Phase 2)
- Deterministic structure
- Update TASKS.md checkboxes automatically

PHASE 1 (EXECUTE NOW)
1. Supabase Auth integration (server-side session validation)
2. RBAC middleware (USER, ADMIN)
3. Prisma schema:
   - User
   - Category
   - City
   - Listing
   - ListingImage
   - Report
   - AdminAction
4. Seed:
   - Macedonian cities
   - Top categories
   - Admin bootstrap user
5. Listings:
   - Create (DRAFT)
   - Edit
   - Delete
   - Browse
   - Search (ILIKE)
   - Filters (category, city, price, condition)
   - Sort (newest, price)
6. Expiration logic:
   - Listing has activeUntil
   - Queries only show ACTIVE listings with activeUntil > now
7. Admin panel:
   - View reports
   - Remove listing
   - Ban user
   - Audit log
8. UI:
   - Minimal layout
   - Navigation
   - Dark/light toggle
   - i18n-ready structure

PHASE 2 (Stripe â€“ scaffold only if env exists)
- Checkout session route
- Webhook route
- Activate listing on payment
- Renewal extends activeUntil

Do not ask questions.
Choose best defaults.
Complete all layers.
Ensure pnpm install && pnpm dev works.